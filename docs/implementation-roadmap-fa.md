# نقشه راه پیاده‌سازی سامانه انبارداری اداری با C#/.NET

## 1) درک مسئله کسب‌وکار
سیستم فعلی مبتنی بر Access محدودیت‌های زیر را دارد:
- رابط کاربری قدیمی و گیج‌کننده
- توسعه‌پذیری پایین
- گزارش‌گیری محدود و غیر پویا
- ریسک خطای انسانی بالا در ورود اطلاعات

هدف سیستم جدید:
- ساده، سریع، زیبا و قابل فهم برای کاربر غیر فنی
- ثبت دقیق گردش اموال/کالا در محیط اداری
- داشبورد زنده برای مدیر یا مسئول انبار

---

## 2) معماری پیشنهادی

### 2.1 لایه‌ها
1. **Presentation (UI):**
   - Blazor Server یا MVC
   - فرم‌های ساده با راهنمای مرحله‌به‌مرحله
2. **Application:**
   - UseCaseها (ثبت رسید، ثبت حواله خروج، انتقال بین واحدها)
3. **Domain:**
   - موجودیت‌ها و قوانین کسب‌وکار
4. **Infrastructure:**
   - EF Core، SQL Server، لاگ، ارسال اعلان

### 2.2 الگوی توسعه
- Clean Architecture سبک (برای نگهداری بهتر)
- Repository Pattern فقط در صورت نیاز (با EF Core ساده‌سازی شود)
- DTO + Validation (FluentValidation)

### 2.3 امنیت و دسترسی
- نقش‌ها:
  - انباردار
  - مدیر
  - مشاهده‌گر
- ثبت Audit Log برای عملیات حساس (ویرایش، حذف، خروج کالا)

---

## 3) ماژول‌های اصلی

### 3.1 مدیریت اقلام/اموال
- تعریف کالا/اموال
- دسته‌بندی
- واحد سنجش
- حداقل موجودی
- کد داخلی/بارکد

### 3.2 عملیات انبار
- رسید انبار (ورود)
- حواله خروج (مصرف/تحویل)
- انتقال بین بخش‌ها
- اصلاحی/برگشت

### 3.3 طرف حساب/واحد سازمانی
- تامین‌کننده
- واحد درخواست‌کننده
- گیرنده اموال

### 3.4 داشبورد و گزارش
- موجودی فعلی
- 10 قلم پرمصرف
- اقلام با موجودی بحرانی
- روند ورود/خروج ماهانه
- گزارش گردش کالا در بازه زمانی

---

## 4) مدل داده اولیه (MVP)

### جداول اصلی
- `Items`
- `ItemCategories`
- `Warehouses`
- `StockTransactions`
- `StockBalances`
- `Suppliers`
- `Departments`
- `Users`
- `AuditLogs`

### نمونه فیلدهای کلیدی
- `Items`: Id, Code, Name, CategoryId, Unit, MinStockLevel, IsActive
- `StockTransactions`: Id, ItemId, WarehouseId, Type(In/Out/Transfer), Quantity, UnitPrice, Date, ReferenceNo, PerformedByUserId
- `StockBalances`: ItemId, WarehouseId, Quantity

---

## 5) UX پیشنهادی (مخصوص کاربر ساده)

### اصول تجربه کاربری
- فرم کوتاه، تک‌ستونی، بدون شلوغی
- دکمه‌های بزرگ با رنگ‌بندی ثابت
- متن‌های واضح فارسی (مثال: «ثبت رسید جدید» به جای اصطلاحات پیچیده)
- خطاهای قابل فهم («مقدار وارد شده معتبر نیست»)
- Auto-complete برای انتخاب کالا

### الگوی صفحه‌ها
- داشبورد: کارت‌های خلاصه + نمودار ساده
- فرم عملیات: Header واضح + Stepper + خلاصه نهایی پیش از ثبت
- گزارش‌ها: فیلتر در بالا + جدول + خروجی Excel/PDF

---

## 6) فازبندی اجرایی

## فاز 0 — تحلیل و طراحی (1 هفته)
- استخراج فرآیندهای واقعی انبار از سیستم فعلی
- نهایی‌سازی موجودیت‌ها و گزارش‌ها
- طراحی وایرفریم صفحات اصلی

**خروجی:** SRS سبک + ERD + Wireframe

## فاز 1 — MVP عملیاتی (2 تا 3 هفته)
- احراز هویت و نقش‌ها
- مدیریت کالا/دسته‌بندی
- رسید انبار + حواله خروج
- گزارش موجودی فعلی

**خروجی:** نسخه قابل استفاده روزمره

## فاز 2 — داشبورد و هوشمندسازی (2 هفته)
- نمودارهای داینامیک
- شاخص‌های کلیدی (KPI)
- هشدار موجودی کم

**خروجی:** داشبورد مدیریتی و اینفوگرافی

## فاز 3 — تکمیل سازمانی (2 هفته)
- انتقال بین بخش‌ها
- Audit پیشرفته
- خروجی‌های حرفه‌ای (Excel/PDF)
- بهینه‌سازی UX بر اساس بازخورد کاربران

**خروجی:** نسخه پایدار سازمانی

---

## 7) استراتژی مهاجرت از Access
1. شناسایی جداول فعلی Access
2. نگاشت فیلدها به مدل SQL Server
3. پاکسازی داده‌های ناسازگار
4. مهاجرت آزمایشی + تطبیق گزارش
5. مهاجرت نهایی و Freeze سیستم قدیمی

---

## 8) معیار موفقیت
- کاهش زمان ثبت رسید/حواله
- کاهش خطاهای ورود اطلاعات
- رضایت کاربر نهایی در استفاده روزانه
- پوشش کامل گزارش‌های موردنیاز مدیریت

---

## 9) پیشنهاد شروع همکاری مرحله‌ای
برای شروع عملی، پیشنهاد می‌شود در گام بعدی این موارد اجرا شود:
1. تولید اسکلت پروژه .NET
2. پیاده‌سازی ماژول Items
3. پیاده‌سازی Receipt (رسید)
4. تحویل دموی قابل تست

پس از تایید شما، فاز 1 را به‌صورت کدنویسی واقعی شروع می‌کنیم.
